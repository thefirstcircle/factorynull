<!DOCTYPE html>
<!-- saved from url=(0022)http://localhost:7158/ -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Steve O’Neill: DACSS 695M HW3</title>
<style class="anchorjs"></style><style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="./Steve O’Neill_ DACSS 695M HW3_files/clipboard.min.js.download"></script>
<script src="./Steve O’Neill_ DACSS 695M HW3_files/quarto.js.download"></script>
<script src="./Steve O’Neill_ DACSS 695M HW3_files/popper.min.js.download"></script>
<script src="./Steve O’Neill_ DACSS 695M HW3_files/tippy.umd.min.js.download"></script>
<script src="./Steve O’Neill_ DACSS 695M HW3_files/anchor.min.js.download"></script>
<link href="./Steve O’Neill_ DACSS 695M HW3_files/tippy.css" rel="stylesheet">
<link href="./Steve O’Neill_ DACSS 695M HW3_files/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="./Steve O’Neill_ DACSS 695M HW3_files/bootstrap.min.js.download"></script>
<link href="./Steve O’Neill_ DACSS 695M HW3_files/bootstrap-icons.css" rel="stylesheet">
<link href="./Steve O’Neill_ DACSS 695M HW3_files/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<link href="./Steve O’Neill_ DACSS 695M HW3_files/pagedtable.css" rel="stylesheet">
<script src="./Steve O’Neill_ DACSS 695M HW3_files/pagedtable.js.download"></script>


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Steve O’Neill: DACSS 695M HW3</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="project-idea-no.-1-corporate-data-breaches" class="level1">
<h1>Project Idea No.&nbsp;1: Corporate Data Breaches</h1>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:7158/#introduction" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>For a while, I have been interested in the financial and regulatory impact of data breaches. They come up in the news sometimes - SolarWinds, Garmin, Yahoo - and seem to fade in and out of public consciousness depending on how terrifying they are. The recent <a href="https://en.wikipedia.org/wiki/Colonial_Pipeline_ransomware_attack">Colonial Pipeline ransomware attack</a> led to some justified scrutiny by Congress, but generally breaches are treated as continual ‘background noise’</p>
<p>I was recently given access to Wharton Research Data Services (WRDS), a subscription platform with many kinds of econometric data. Nestled inside is a dataset compiled by the company Audit Analytics that contains firms’ disclosure to the SEC after data breaches. Here are its fields:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="http://localhost:7158/#cb1-1" aria-hidden="true" tabindex="-1"></a>cyber_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"kaggle/input/hw3/auditanalytics_cyberbreaches/audit_acct_os-feed85_cybersecurity.xlsx"</span>)</span>
<span id="cb1-2"><a href="http://localhost:7158/#cb1-2" aria-hidden="true" tabindex="-1"></a>cyber_data_dictionary <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"kaggle/input/hw3/auditanalytics_cyberbreaches/85_CYBERSECURITY.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">2</span>, <span class="at">skip =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="http://localhost:7158/#cb2-1" aria-hidden="true" tabindex="-1"></a>cyber_data_dictionary <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="st">'Short Name'</span>, <span class="st">'Field Description'</span>) <span class="sc">%&gt;%</span> <span class="fu">remove_missing</span>() <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 8%">
<col style="width: 91%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Short Name</th>
<th style="text-align: left;">Field Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CYBERSECURITY_BREACH_KEY</td>
<td style="text-align: left;">Audit Analytics assigned unique ID for each cybersecurity breach</td>
</tr>
<tr class="even">
<td style="text-align: left;">COMPANY_KEY</td>
<td style="text-align: left;">Edgar’s Central Index Key. Unique numeric identifier for each registrant. Programmatically extracted and matched from the sec.gov’s registrant header page</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TARGET_COMPANY_FKEYS</td>
<td style="text-align: left;">The pipe-delimited list of the Edgar Central Index Keys for the target companies of the breach, where applicable. Programmatically extracted and matched from the sec.gov’s registrant header page.</td>
</tr>
<tr class="even">
<td style="text-align: left;">TARGET_COMPANY_NAMES</td>
<td style="text-align: left;">Pipe-delimited list of company names that are the targets of the breach, where applicable. The company name is assigned by the Audit Analytics Research team.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TARGET_RELATIONSHIP_TO_PARENT</td>
<td style="text-align: left;">The pipe-delimited list of relationship(s) of the breach target(s) to the parent company.</td>
</tr>
<tr class="even">
<td style="text-align: left;">BREACH_DISCLOSURE_DATE</td>
<td style="text-align: left;">The first date on which the breach became publicly known. The date can be and is often associated with one of the following: (1) the date a company announces a breach, (2) the date a news report announces a breach, (3) the date a breach is reported on an state Attorney General’s website, or (4) the date a cybersecurity blog announces a breach</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BREACH_START_DATE</td>
<td style="text-align: left;">Date of the start of the breach. In cases where this field is blank or null, the information was not disclosed by the Parent Company.</td>
</tr>
<tr class="even">
<td style="text-align: left;">BREACH_END_DATE</td>
<td style="text-align: left;">Date of the end of the breach. In cases where this field is blank or null, the information was not disclosed by the Parent Company.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BREACH_AWARE_DATE</td>
<td style="text-align: left;">Date disclosed by the company on which they first discovered the breach.</td>
</tr>
<tr class="even">
<td style="text-align: left;">NUMBER_OF_RECORDS_LOST</td>
<td style="text-align: left;">Number of records stolen in the attack.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BREACH_COST</td>
<td style="text-align: left;">Cost of breach in the reporting currency. In cases where this field is blank or null, the information was not disclosed by the Parent Company.</td>
</tr>
<tr class="even">
<td style="text-align: left;">BREACH_COST_USD</td>
<td style="text-align: left;">Cost of breach in US dollars ($). In cases where this field is blank or null, the information was not disclosed by the Parent Company.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CURR_CODE_FKEY</td>
<td style="text-align: left;">Currency code. All fees are in US Dollars (USD). Disclosures in foreign currencies have been converted to USD by taking the corresponding year’s average daily conversion rate. The original currency numbers are on file and available as a custom report or feed.</td>
</tr>
<tr class="even">
<td style="text-align: left;">BREACH_INFORMATION_TYPE</td>
<td style="text-align: left;">General type of information accessed by breach - Financial, Personal, Not Disclosed, or Other.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TYPE_OF_ATTACK_LIST</td>
<td style="text-align: left;">Pipe-delimited list of the type(s) of attack used to infiltrate the company’s systems: Malware, Misconfiguration, ND, Phishing, Ransomware, or Unauthorized Access.</td>
</tr>
<tr class="even">
<td style="text-align: left;">INFORMATION_ACCESSED_LIST</td>
<td style="text-align: left;">Pipe-delimited list of the type(s) of Information accessed by the attack: Address, Bank Account, Credit Card, Debit Card, Email, Intellectual Property, Name, ND, Other, Password, Phone Number, SSN, or User Name.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AUDITOR_FKEY_DURING_EVENT_DATE</td>
<td style="text-align: left;">Unique numeric identifier assigned by Audit Analytics for each auditor. Applies to the auditor of the Parent Company as of the date of breach disclosure.</td>
</tr>
<tr class="even">
<td style="text-align: left;">AUDITOR_NAME_DURING_EVENT_DATE</td>
<td style="text-align: left;">Auditor of the Parent Company as of the date of breach disclosure.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AUDITOR_PCAOB_DURING_EVENT</td>
<td style="text-align: left;">PCAOB registration number (if applicable) of the auditor of the Parent Company as of the date of breach disclosure.</td>
</tr>
<tr class="even">
<td style="text-align: left;">AUDITOR_CITY_DURING_EVENT_DATE</td>
<td style="text-align: left;">Location information of the auditor of the Parent Company as of the date of breach disclosure as disclosed in the auditor’s report.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AUDITOR_STATE_DURING_EVENT_DATE</td>
<td style="text-align: left;">Location information of the auditor of the Parent Company as of the date of breach disclosure as disclosed in the auditor’s report.</td>
</tr>
<tr class="even">
<td style="text-align: left;">AUDITOR_STATE_NAME_DURING_EVENT</td>
<td style="text-align: left;">Location information of the auditor of the Parent Company as of the date of breach disclosure as disclosed in the auditor’s report.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AUDITOR_STATE_REG_DURING_EVENT</td>
<td style="text-align: left;">Location information of the auditor of the Parent Company as of the date of breach disclosure as disclosed in the auditor’s report.</td>
</tr>
<tr class="even">
<td style="text-align: left;">AUDITOR_AFFI_FKEY_DURING_EVENT</td>
<td style="text-align: left;">Unique numeric identifier assigned by Audit Analytics for each auditor a. Applies to the auditor of the Parent Company as of the date of breach disclosure.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AUDITOR_AFFI_NAME_DURING_EVENT</td>
<td style="text-align: left;">Unique numeric identifier assigned by Audit Analytics for each foreign affiliate of the auditor. Applies to the auditor affiliate of the Parent Company as of the date of breach disclosure.</td>
</tr>
<tr class="even">
<td style="text-align: left;">AUDITOR_AFFI_PCAOB_DURING_EVENT</td>
<td style="text-align: left;">PCAOB registration number (if applicable) of the auditor affiliate of the Parent Company as of the date of breach disclosure.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LAS_REP_AUD_FKEY</td>
<td style="text-align: left;">Unique key designation for the last reported auditor.</td>
</tr>
<tr class="even">
<td style="text-align: left;">LAS_REP_AUD_NAME</td>
<td style="text-align: left;">Last reported auditor name.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LAS_REP_AUD_AFF_FKEY</td>
<td style="text-align: left;">Internally assigned, auto increment auditor affiliate key. If applicable.</td>
</tr>
<tr class="even">
<td style="text-align: left;">LAS_REP_AUD_AFF_NAME</td>
<td style="text-align: left;">Auditor affiliate name.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NAME</td>
<td style="text-align: left;">Registrant’s current name as filed with the SEC. Programmatically extracted and matched from the sec.gov’s registrant header page</td>
</tr>
<tr class="even">
<td style="text-align: left;">IRS_NUMBER</td>
<td style="text-align: left;">Describes IRS assigned number</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BUS_STREET1</td>
<td style="text-align: left;">Current business address information. Programmatically extracted and matched from the sec.gov’s registrant header page</td>
</tr>
<tr class="even">
<td style="text-align: left;">BUS_STREET2</td>
<td style="text-align: left;">Current business address information. Programmatically extracted and matched from the sec.gov’s registrant header page</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BUS_CITY</td>
<td style="text-align: left;">Current business address information. Programmatically extracted and matched from the sec.gov’s registrant header page</td>
</tr>
<tr class="even">
<td style="text-align: left;">BUS_COUNTY</td>
<td style="text-align: left;">County of the company business address. County is most probable since multiple counties per zip code can exist.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BUS_STATE</td>
<td style="text-align: left;">Current business address information. Programmatically extracted and matched from the sec.gov’s registrant header page</td>
</tr>
<tr class="even">
<td style="text-align: left;">BUS_STATE_NAME</td>
<td style="text-align: left;">Current business address information. Translation of state code field</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BUS_STATE_REGION</td>
<td style="text-align: left;">Business state region of registrant</td>
</tr>
<tr class="even">
<td style="text-align: left;">BUS_ZIP</td>
<td style="text-align: left;">Business zip address of registrant</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BUS_PHONE</td>
<td style="text-align: left;">Business phone of registrant</td>
</tr>
<tr class="even">
<td style="text-align: left;">INC_STATE</td>
<td style="text-align: left;">Registrant state of incorporation code</td>
</tr>
<tr class="odd">
<td style="text-align: left;">INC_STATE_NAME</td>
<td style="text-align: left;">Registrant incorporation state name</td>
</tr>
<tr class="even">
<td style="text-align: left;">INC_STATE_REGION</td>
<td style="text-align: left;">Region of state of company incorporation per SEC</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SIC_CODE_FKEY</td>
<td style="text-align: left;">4 digit SIC industry code. Programmatically extracted and matched from the sec.gov’s registrant header page</td>
</tr>
<tr class="even">
<td style="text-align: left;">SIC_CODE_DESCRIP</td>
<td style="text-align: left;">Translation of SIC Code</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NAICS_CODE_FKEY</td>
<td style="text-align: left;">6 digit NAICS industry code. Assigned by internal researchers</td>
</tr>
<tr class="even">
<td style="text-align: left;">NAICS_CODE_DESCRIP</td>
<td style="text-align: left;">Translation of NAICS Code</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ISIN</td>
<td style="text-align: left;">ISIN number</td>
</tr>
<tr class="even">
<td style="text-align: left;">CUSIP_NUMBER</td>
<td style="text-align: left;">CUSIP number</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LATEST_TAX_FEES_SUM</td>
<td style="text-align: left;">Latest fee of this type for fiscal year. Fess are included as restated when possible.</td>
</tr>
<tr class="even">
<td style="text-align: left;">LATEST_AUDREL_FEES_SUM</td>
<td style="text-align: left;">Latest fee of this type for fiscal year. Fess are included as restated when possible.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LATEST_OTHER_FEES_SUM</td>
<td style="text-align: left;">Latest fee of this type for fiscal year. Fess are included as restated when possible.</td>
</tr>
<tr class="even">
<td style="text-align: left;">LATEST_TOTAL_FEES_SUM</td>
<td style="text-align: left;">Latest fee of this type for fiscal year. Fess are included as restated when possible.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LATEST_FEES_FYE</td>
<td style="text-align: left;">Latest fee of this type for fiscal year. Fess are included as restated when possible.</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>And a sample of its data (here I am just picking columns of interest):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="http://localhost:7158/#cb3-1" aria-hidden="true" tabindex="-1"></a>cyber_data <span class="ot">&lt;-</span> cyber_data <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="http://localhost:7158/#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, company_fkey, best_edgar_ticker, breach_cost, breach_cost_usd, breach_disclosure_date, breach_start_date, breach_end_date, </span>
<span id="cb3-3"><a href="http://localhost:7158/#cb3-3" aria-hidden="true" tabindex="-1"></a>         breach_information_type, cybersecurity_breach_key, naics_code_descrip,</span>
<span id="cb3-4"><a href="http://localhost:7158/#cb3-4" aria-hidden="true" tabindex="-1"></a>         matchfy_balsh_assets, matchfy_balsh_book_val, matchfy_date_ttm, matchfy_incmst_netinc_ttm, </span>
<span id="cb3-5"><a href="http://localhost:7158/#cb3-5" aria-hidden="true" tabindex="-1"></a>         matchfy_incmst_rev_ttm, matchfy_price_close, matchfy_price_date, matchfy_tso, matchfy_tso_markcap, </span>
<span id="cb3-6"><a href="http://localhost:7158/#cb3-6" aria-hidden="true" tabindex="-1"></a>         type_of_attack_list, number_of_records_lost, breach_information_type, information_accessed_list, bus_zip)</span>
<span id="cb3-7"><a href="http://localhost:7158/#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cyber_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="true" pagedtable-page="0" class="pagedtable-wrapper">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_fkey"],"name":[2],"type":["chr"],"align":["left"]},{"label":["best_edgar_ticker"],"name":[3],"type":["chr"],"align":["left"]},{"label":["breach_cost"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["breach_cost_usd"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["breach_disclosure_date"],"name":[6],"type":["dttm"],"align":["right"]},{"label":["breach_start_date"],"name":[7],"type":["dttm"],"align":["right"]},{"label":["breach_end_date"],"name":[8],"type":["dttm"],"align":["right"]},{"label":["breach_information_type"],"name":[9],"type":["chr"],"align":["left"]},{"label":["cybersecurity_breach_key"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["naics_code_descrip"],"name":[11],"type":["chr"],"align":["left"]},{"label":["matchfy_balsh_assets"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["matchfy_balsh_book_val"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["matchfy_date_ttm"],"name":[14],"type":["dttm"],"align":["right"]},{"label":["matchfy_incmst_netinc_ttm"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["matchfy_incmst_rev_ttm"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["matchfy_price_close"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["matchfy_price_date"],"name":[18],"type":["dttm"],"align":["right"]},{"label":["matchfy_tso"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["matchfy_tso_markcap"],"name":[20],"type":["dbl"],"align":["right"]},{"label":["type_of_attack_list"],"name":[21],"type":["chr"],"align":["left"]},{"label":["number_of_records_lost"],"name":[22],"type":["dbl"],"align":["right"]},{"label":["information_accessed_list"],"name":[23],"type":["chr"],"align":["left"]},{"label":["bus_zip"],"name":[24],"type":["chr"],"align":["left"]}],"data":[{"1":"AKORN INC","2":"0000003116","3":"NA","4":"0","5":"NA","6":"2015-06-18","7":"<NA>","8":"<NA>","9":"Personal","10":"551","11":"Pharmaceutical Preparation Manufacturing","12":"2042545000","13":"-528134000","14":"2015-12-31","15":"150798000","16":"985076000","17":"36.85","18":"2015-12-29","19":"114433000","20":"4216856064","21":"|Malware|","22":"50000","23":"|Email|Other|Password|User Name|","24":"60045"},{"1":"Matson, Inc.","2":"0000003453","3":"MATX","4":"NA","5":"NA","6":"2020-11-24","7":"<NA>","8":"<NA>","9":"Personal","10":"814","11":"Deep Sea Freight Transportation","12":"2900600000","13":"441400000","14":"2020-12-31","15":"193100000","16":"2383300000","17":"55.75","18":"2020-12-29","19":"43078715","20":"2401638400","21":"|Not Disclosed|","22":"NA","23":"|Name|Other|SSN|","24":"96819"},{"1":"U-Haul Holding Co /NV/","2":"0000004457","3":"UHAL","4":"NA","5":"NA","6":"2017-12-11","7":"2017-01-10","8":"2017-10-16","9":"Financial","10":"820","11":"Truck, Utility Trailer, and RV (Recreational Vehicle) Rental and Leasing","12":"10746985000","13":"3408708000","14":"2018-03-31","15":"790583000","16":"3601114000","17":"341.88","18":"2018-04-02","19":"19607788","20":"6703510528","21":"|Malware|","22":"NA","23":"|Address|Credit Card|Email|Name|Other|Phone Number|","24":"89511"},{"1":"U-Haul Holding Co /NV/","2":"0000004457","3":"UHAL","4":"0","5":"NA","6":"2022-09-09","7":"2021-11-05","8":"2022-04-05","9":"Personal","10":"1155","11":"Truck, Utility Trailer, and RV (Recreational Vehicle) Rental and Leasing","12":"NA","13":"NA","14":"<NA>","15":"NA","16":"NA","17":"NA","18":"<NA>","19":"NA","20":"NA","21":"|Unauthorized Access|","22":"NA","23":"|Name|Other|","24":"89511"},{"1":"AMERICAN EXPRESS CO","2":"0000004962","3":"AXP","4":"NA","5":"NA","6":"2018-03-20","7":"2016-01-01","8":"2017-12-22","9":"Financial","10":"384","11":"Investment Advice","12":"188602000000","13":"NA","14":"2018-12-31","15":"6921000000","16":"36986000000","17":"95.68","18":"2019-01-02","19":"843368671","20":"81735770112","21":"|Malware|","22":"NA","23":"|Address|Credit Card|Name|Other|","24":"10285"},{"1":"AFLAC INC","2":"0000004977","3":"AFL","4":"NA","5":"NA","6":"2018-09-28","7":"2017-09-08","8":"2018-05-09","9":"Personal","10":"309","11":"Direct Health and Medical Insurance Carriers","12":"140406000000","13":"NA","14":"2018-12-31","15":"2920000000","16":"21758000000","17":"45.52","18":"2019-01-02","19":"750332375","20":"34653433856","21":"|Unauthorized Access|","22":"NA","23":"|Address|Name|Other|SSN|","24":"31999"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
<div class="pagedtable pagedtable-not-empty" style="opacity: 1;"><table style="visibility: hidden; position: absolute; white-space: nowrap; height: auto; width: auto;"><tr><td>ABCDEFGHIJ0123456789</td></tr></table><table cellspacing="0" class="table table-condensed"><thead><tr><th align="left" style="text-align: left; max-width: 242px; min-width: 242px;"><div class="pagedtable-header-name">name</div><div class="pagedtable-header-type">&lt;chr&gt;</div></th><th align="left" style="text-align: left; max-width: 132px; min-width: 132px;"><div class="pagedtable-header-name">company_fkey</div><div class="pagedtable-header-type">&lt;chr&gt;</div></th><th align="left" style="text-align: left; max-width: 187px; min-width: 187px;"><div class="pagedtable-header-name">best_edgar_ticker</div><div class="pagedtable-header-type">&lt;chr&gt;</div></th><th align="right" style="text-align: right; max-width: 121px; min-width: 121px;"><div class="pagedtable-header-name">breach_cost</div><div class="pagedtable-header-type">&lt;dbl&gt;</div></th><th style="cursor: pointer;vertical-align: middle;min-width: 5px;width: 5px;"><div style="border-top: 5px solid transparent;border-bottom: 5px solid transparent;border-left: 5px solid;"></div></th></tr></thead><tbody><tr class="odd"><td align="left" style="text-align: left; max-width: 242px; min-width: 242px;">AKORN INC</td><td align="left" style="text-align: left; max-width: 132px; min-width: 132px;">0000003116</td><td class="pagedtable-na-cell" align="left" style="text-align: left; max-width: 187px; min-width: 187px;">NA</td><td align="right" style="text-align: right; max-width: 121px; min-width: 121px;">0</td><td></td></tr><tr class="even"><td align="left" style="text-align: left; max-width: 242px; min-width: 242px;">Matson, Inc.</td><td align="left" style="text-align: left; max-width: 132px; min-width: 132px;">0000003453</td><td align="left" style="text-align: left; max-width: 187px; min-width: 187px;">MATX</td><td class="pagedtable-na-cell" align="right" style="text-align: right; max-width: 121px; min-width: 121px;">NA</td><td></td></tr><tr class="odd"><td align="left" style="text-align: left; max-width: 242px; min-width: 242px;">U-Haul Holding Co /NV/</td><td align="left" style="text-align: left; max-width: 132px; min-width: 132px;">0000004457</td><td align="left" style="text-align: left; max-width: 187px; min-width: 187px;">UHAL</td><td class="pagedtable-na-cell" align="right" style="text-align: right; max-width: 121px; min-width: 121px;">NA</td><td></td></tr><tr class="even"><td align="left" style="text-align: left; max-width: 242px; min-width: 242px;">U-Haul Holding Co /NV/</td><td align="left" style="text-align: left; max-width: 132px; min-width: 132px;">0000004457</td><td align="left" style="text-align: left; max-width: 187px; min-width: 187px;">UHAL</td><td align="right" style="text-align: right; max-width: 121px; min-width: 121px;">0</td><td></td></tr><tr class="odd"><td align="left" style="text-align: left; max-width: 242px; min-width: 242px;">AMERICAN EXPRESS CO</td><td align="left" style="text-align: left; max-width: 132px; min-width: 132px;">0000004962</td><td align="left" style="text-align: left; max-width: 187px; min-width: 187px;">AXP</td><td class="pagedtable-na-cell" align="right" style="text-align: right; max-width: 121px; min-width: 121px;">NA</td><td></td></tr><tr class="even"><td align="left" style="text-align: left; max-width: 242px; min-width: 242px;">AFLAC INC</td><td align="left" style="text-align: left; max-width: 132px; min-width: 132px;">0000004977</td><td align="left" style="text-align: left; max-width: 187px; min-width: 187px;">AFL</td><td class="pagedtable-na-cell" align="right" style="text-align: right; max-width: 121px; min-width: 121px;">NA</td><td></td></tr></tbody></table><div class="pagedtable-footer"><div class="pagedtable-info" title="6 rows | 1-4 of 24 columns">6 rows | 1-4 of 24 columns</div></div></div></div>
</div>
</div>
</section>
<section id="an-important-shortcoming" class="level2">
<h2 class="anchored" data-anchor-id="an-important-shortcoming">An Important Shortcoming<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:7158/#an-important-shortcoming" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>A word before we go on: this dataset has let me preview the first 1000 rows, so I downloaded that .xlsx and imported it into this R environment quickly for analysis. I did this based on the assumption that the full table (which I also have access to, but must go through some more hoops to parse) would include many more.</p>
<p>Unfortunately, the complete data only has 1,151 entries, which makes things slightly complicated for applying this data in a machine learning context.</p>
<p>It may be possible, since it’s high-quality and quite ‘wide’, to use in a ML application. Especially in conjunction with some other ‘joined’ datasets. But I am also open to other approaches, and that’s why I included “Project Idea No.&nbsp;2” below.</p>
</section>
<section id="eda" class="level2">
<h2 class="anchored" data-anchor-id="eda">EDA<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:7158/#eda" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>This is all data that has been disclosed by companies or their auditors, so these are to be taken with a grain of salt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="http://localhost:7158/#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cyber_data, <span class="fu">aes</span>(<span class="at">x =</span> type_of_attack_list)) <span class="sc">+</span> </span>
<span id="cb4-2"><a href="http://localhost:7158/#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span> </span>
<span id="cb4-3"><a href="http://localhost:7158/#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Type of Attack"</span>) <span class="sc">+</span></span>
<span id="cb4-4"><a href="http://localhost:7158/#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb4-5"><a href="http://localhost:7158/#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribution of Type of Cybersecurity Breach"</span>) <span class="sc">+</span></span>
<span id="cb4-6"><a href="http://localhost:7158/#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./Steve O’Neill_ DACSS 695M HW3_files/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Which industries are most affected?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="http://localhost:7158/#cb5-1" aria-hidden="true" tabindex="-1"></a>cyber_data <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="http://localhost:7158/#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(naics_code_descrip, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="http://localhost:7158/#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="http://localhost:7158/#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(naics_code_descrip, n), <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb5-5"><a href="http://localhost:7158/#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb5-6"><a href="http://localhost:7158/#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>, <span class="at">title =</span> <span class="st">"Top 5 NAICS Description with Most Cybersecurity Breaches"</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="http://localhost:7158/#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb5-8"><a href="http://localhost:7158/#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb5-9"><a href="http://localhost:7158/#cb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb5-10"><a href="http://localhost:7158/#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./Steve O’Neill_ DACSS 695M HW3_files/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It seems to be software publishers and coders (who live and die by passing credentials back and forth), industries who take credit cards, and industries with healthcare data who are most affected among very large companies.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="http://localhost:7158/#cb6-1" aria-hidden="true" tabindex="-1"></a>cyber_data<span class="sc">$</span>breach_interval <span class="ot">&lt;-</span> <span class="fu">as.interval</span>(<span class="fu">interval</span>(cyber_data<span class="sc">$</span>breach_start_date, cyber_data<span class="sc">$</span>breach_end_date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the next graph, the ticks on the X axis represent 1 year each.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="http://localhost:7158/#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cyber_data, <span class="fu">aes</span>(<span class="at">x =</span> breach_interval)) <span class="sc">+</span></span>
<span id="cb7-2"><a href="http://localhost:7158/#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fu">ddays</span>(<span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="http://localhost:7158/#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_time</span>(<span class="at">breaks =</span> <span class="fu">date_breaks</span>(<span class="st">"1 year"</span>)) <span class="sc">+</span></span>
<span id="cb7-4"><a href="http://localhost:7158/#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Interval"</span>) <span class="sc">+</span></span>
<span id="cb7-5"><a href="http://localhost:7158/#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Frequency"</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="http://localhost:7158/#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribution of Breach Durations"</span>) <span class="sc">+</span></span>
<span id="cb7-7"><a href="http://localhost:7158/#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 640 rows containing non-finite values (`stat_bin()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="./Steve O’Neill_ DACSS 695M HW3_files/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Generally we see that breach durations are either missing, not reported, or under 6 months.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="http://localhost:7158/#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#New DF with top 10 companies by $breach_cost_usd</span></span>
<span id="cb9-2"><a href="http://localhost:7158/#cb9-2" aria-hidden="true" tabindex="-1"></a>top_companies <span class="ot">&lt;-</span> cyber_data[<span class="fu">order</span>(cyber_data<span class="sc">$</span>breach_cost_usd, <span class="at">decreasing =</span> <span class="cn">TRUE</span>),][<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span>
<span id="cb9-3"><a href="http://localhost:7158/#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="http://localhost:7158/#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Remove any rows with missing or infinite values in the breach_start_date and breach_end_date columns</span></span>
<span id="cb9-5"><a href="http://localhost:7158/#cb9-5" aria-hidden="true" tabindex="-1"></a>top_companies <span class="ot">&lt;-</span> top_companies[<span class="fu">complete.cases</span>(top_companies<span class="sc">$</span>breach_start_date, top_companies<span class="sc">$</span>breach_end_date), ]</span>
<span id="cb9-6"><a href="http://localhost:7158/#cb9-6" aria-hidden="true" tabindex="-1"></a>top_companies <span class="ot">&lt;-</span> top_companies[<span class="sc">!</span><span class="fu">is.infinite</span>(top_companies<span class="sc">$</span>breach_start_date) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.infinite</span>(top_companies<span class="sc">$</span>breach_end_date), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The graph below looks at the biggest breaches recorded in this data (1000/1151 observations), and demonstrates that companies’ self-reporting is generally pretty quick after a breach discovery in the case of a huge “mega” breach. The thick red line indicates the date of a report to the SEC.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="http://localhost:7158/#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_companies) <span class="sc">+</span></span>
<span id="cb10-2"><a href="http://localhost:7158/#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> breach_start_date, <span class="at">xmax =</span> breach_disclosure_date, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="dv">1</span>, <span class="at">fill =</span> type_of_attack_list), <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb10-3"><a href="http://localhost:7158/#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Type of Attack"</span>) <span class="sc">+</span></span>
<span id="cb10-4"><a href="http://localhost:7158/#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Date"</span>) <span class="sc">+</span></span>
<span id="cb10-5"><a href="http://localhost:7158/#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb10-6"><a href="http://localhost:7158/#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Breach Intervals and Disclosures - Top 5 Companies based on Breach Cost"</span>) <span class="sc">+</span></span>
<span id="cb10-7"><a href="http://localhost:7158/#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> name, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-8"><a href="http://localhost:7158/#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">as.numeric</span>(breach_disclosure_date)), <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span> </span>
<span id="cb10-9"><a href="http://localhost:7158/#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(), <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./Steve O’Neill_ DACSS 695M HW3_files/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="prediction-ideas" class="level2">
<h2 class="anchored" data-anchor-id="prediction-ideas">Prediction ideas<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:7158/#prediction-ideas" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>With this data, I could use supervised learning techniques to make predictions of both kinds:</p>
<p><strong>Continuous</strong></p>
<ol type="1">
<li>Predict breach costs - in the company’s self-reported terms, USD.</li>
<li>Predict stock price percent change after incident.*</li>
<li>Predict breach ‘severity’ - an invented, combined score based on types of information accessed, reported cost, number of records affected, etc.</li>
<li>Predict breach frequency - for each industry by NAICS, predict frequency and intensity of breach.</li>
</ol>
<p>*This already a field of study in economics using other established models. It has also been approached in a more familiar data analytics way <a href="https://www.comparitech.com/blog/information-security/data-breach-share-price-analysis/">here</a>.</p>
<p><strong>Classification</strong></p>
<ol type="1">
<li>Predicting type of attack used - phishing, unauthorized access, or ransomware, etc.</li>
<li>Predicting types of information disclosed: address, phone number, SSN, etc.</li>
</ol>
<p>Or, I could pivot and use a completely different dataset:</p>
</section>
</section>
<section id="project-idea-no.-2-legal-judgement-prediction" class="level1">
<h1>Project Idea No.&nbsp;2: Legal Judgement Prediction</h1>
<section id="introduction-1" class="level2">
<h2 class="anchored" data-anchor-id="introduction-1">Introduction<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:7158/#introduction-1" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>Also contained in the WRDS subscription is a Federal Judicial Center database of court cases from the mid-1970s to present. It may also be available here:</p>
<p><a href="https://free.law/idb-facts">Facts about FJC’s Integrated&nbsp;Database | Free Law Project | Making the legal ecosystem more equitable and competitive.</a></p>
<p>Already a field in itself, LJP (Legal Judgement Prediction) is commonly used for charge and penalty prediction. Worryingly, it may even be implemented by courts in some jurisdictions, as described <a href="https://arxiv.org/pdf/2204.04859.pdf">here</a>. In the U.S., most applications of LJP seem to be focused on U.S. Supreme Court ruling predictions. A common approach seems to be to analyze Justices’ previous written opinions or articles and compare them with subject matter coming up on their docket.</p>
<p>The FJC dataset has 12,639,820 rows of data. Here, as before, I have a non-random sample of the first 1000.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="http://localhost:7158/#cb11-1" aria-hidden="true" tabindex="-1"></a>civil_cases <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"kaggle/input/hw3/fjc_civil/fjc_litigation-civil.xlsx"</span>)</span>
<span id="cb11-2"><a href="http://localhost:7158/#cb11-2" aria-hidden="true" tabindex="-1"></a>civil_cases_codebook <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"kaggle/input/hw3/fjc_civil/fjc_workbook.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here are all the columns that come with the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="http://localhost:7158/#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(civil_cases)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "amtrec"           "arbitration"      "casename"         "circuit"         
 [5] "class_action"     "def_county"       "defendant"        "demanded"        
 [9] "disp"             "district"         "djoined"          "docket"          
[13] "docket_seq"       "fdateuse"         "fdateuse_old"     "filedate"        
[17] "fileyear"         "ifp"              "judgment"         "juris"           
[21] "jury"             "land_county"      "magisinv"         "mdldock"         
[25] "noj"              "nos"              "office"           "origin"          
[29] "otherinv"         "plaintiff"        "plt_county"       "pretrial"        
[33] "pro_se_both"      "pro_se_defendant" "pro_se_plaintiff" "procprog"        
[37] "residenc"         "section"          "statuscd"         "subsect"         
[41] "tapeyear"         "tdateuse"         "tdateuse_old"     "termdate"        
[45] "titl"             "transdat"         "transdoc"         "transoff"        
[49] "transorg"         "trclact"          "trialend"         "tribegan"        
[53] "trmarb"          </code></pre>
</div>
</div>
<p>And one part of the data dictionary:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="http://localhost:7158/#cb14-1" aria-hidden="true" tabindex="-1"></a>civil_cases_codebook <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 23%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 56%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable Name</th>
<th style="text-align: left;">Type</th>
<th style="text-align: right;">Length</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">amtrec</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Amount Received</td>
</tr>
<tr class="even">
<td style="text-align: left;">arbitration</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Arbitration</td>
</tr>
<tr class="odd">
<td style="text-align: left;">casename</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Case Name</td>
</tr>
<tr class="even">
<td style="text-align: left;">circuit</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Circuit</td>
</tr>
<tr class="odd">
<td style="text-align: left;">class_action</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Class Action</td>
</tr>
<tr class="even">
<td style="text-align: left;">def_county</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">Defendant County</td>
</tr>
<tr class="odd">
<td style="text-align: left;">defendant</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Defendant</td>
</tr>
<tr class="even">
<td style="text-align: left;">demanded</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Demand</td>
</tr>
<tr class="odd">
<td style="text-align: left;">disp</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Disposition</td>
</tr>
<tr class="even">
<td style="text-align: left;">district</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">District</td>
</tr>
<tr class="odd">
<td style="text-align: left;">djoined</td>
<td style="text-align: left;">date</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Date Issue Joined</td>
</tr>
<tr class="even">
<td style="text-align: left;">docket</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Docket Number</td>
</tr>
<tr class="odd">
<td style="text-align: left;">docket_seq</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Docket Sequence Number</td>
</tr>
<tr class="even">
<td style="text-align: left;">fdateuse</td>
<td style="text-align: left;">date</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Filing Date Used by AO</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fdateuse_old</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">None</td>
</tr>
<tr class="even">
<td style="text-align: left;">filedate</td>
<td style="text-align: left;">date</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Filing Date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fileyear</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Filing Year</td>
</tr>
<tr class="even">
<td style="text-align: left;">ifp</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Informa Pauperis Status</td>
</tr>
<tr class="odd">
<td style="text-align: left;">judgment</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Judgement</td>
</tr>
<tr class="even">
<td style="text-align: left;">juris</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Jurisdiction</td>
</tr>
<tr class="odd">
<td style="text-align: left;">jury</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jury Demand</td>
</tr>
<tr class="even">
<td style="text-align: left;">land_county</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">Land County</td>
</tr>
<tr class="odd">
<td style="text-align: left;">magisinv</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Magistrate Involvement</td>
</tr>
<tr class="even">
<td style="text-align: left;">mdldock</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Multi-District Litigation Docket Number</td>
</tr>
<tr class="odd">
<td style="text-align: left;">noj</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Nature of Judgement</td>
</tr>
<tr class="even">
<td style="text-align: left;">nos</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Nature of Suit</td>
</tr>
<tr class="odd">
<td style="text-align: left;">office</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Office</td>
</tr>
<tr class="even">
<td style="text-align: left;">origin</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Origin</td>
</tr>
<tr class="odd">
<td style="text-align: left;">otherinv</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Other Involvement</td>
</tr>
<tr class="even">
<td style="text-align: left;">plaintiff</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Plaintiff</td>
</tr>
<tr class="odd">
<td style="text-align: left;">plt_county</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">Plaintiff County</td>
</tr>
<tr class="even">
<td style="text-align: left;">pretrial</td>
<td style="text-align: left;">date</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Pre-Trial Conference Date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">procprog</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Procedural Progress</td>
</tr>
<tr class="even">
<td style="text-align: left;">pro_se_both</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Pro Se Both</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pro_se_defendant</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Pro Se Defendant</td>
</tr>
<tr class="even">
<td style="text-align: left;">pro_se_plaintiff</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Pro Se Plaintiff</td>
</tr>
<tr class="odd">
<td style="text-align: left;">residenc</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Residence</td>
</tr>
<tr class="even">
<td style="text-align: left;">section</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Section</td>
</tr>
<tr class="odd">
<td style="text-align: left;">statuscd</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Status Code</td>
</tr>
<tr class="even">
<td style="text-align: left;">subsect</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Subsection</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tapeyear</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Year of Tape</td>
</tr>
<tr class="even">
<td style="text-align: left;">tdateuse</td>
<td style="text-align: left;">date</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Termination Date Used by AO</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tdateuse_old</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">None</td>
</tr>
<tr class="even">
<td style="text-align: left;">termdate</td>
<td style="text-align: left;">date</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Termination Date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">titl</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Title</td>
</tr>
<tr class="even">
<td style="text-align: left;">transdat</td>
<td style="text-align: left;">date</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Transfer Date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">transdoc</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Transfer Docket Number</td>
</tr>
<tr class="even">
<td style="text-align: left;">transoff</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Transfer Office</td>
</tr>
<tr class="odd">
<td style="text-align: left;">transorg</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Transfer Origin</td>
</tr>
<tr class="even">
<td style="text-align: left;">trclact</td>
<td style="text-align: left;">double</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Termination Class Action</td>
</tr>
<tr class="odd">
<td style="text-align: left;">trialend</td>
<td style="text-align: left;">date</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Trial End Date</td>
</tr>
<tr class="even">
<td style="text-align: left;">tribegan</td>
<td style="text-align: left;">date</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Trial Begin Date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">trmarb</td>
<td style="text-align: left;">string</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Arbitration at Termination</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>As I said, this data is only from the first few years, so EDA is not necessarily meaningful with this subset of data.</p>
<p>This plot displays the dollar amount of damages requested, if any:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="http://localhost:7158/#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(civil_cases, <span class="fu">aes</span>(<span class="at">x =</span> amtrec)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="http://localhost:7158/#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb15-3"><a href="http://localhost:7158/#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribution of Case 'Amount Requested'"</span>) <span class="sc">+</span></span>
<span id="cb15-4"><a href="http://localhost:7158/#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Case Amounts"</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a href="http://localhost:7158/#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Frequency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./Steve O’Neill_ DACSS 695M HW3_files/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The outcomes for cases are coded in four categorical variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="http://localhost:7158/#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(civil_cases<span class="sc">$</span>judgment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 2 3 1</code></pre>
</div>
</div>
<p>According to the 1987 codebook (in PDF format), these are their meanings (read: “in favor of”)</p>
<ol type="1">
<li>Plaintiff</li>
<li>Defendant</li>
<li>Both</li>
<li>Unknown (or not applicable)</li>
</ol>
<p>With that knowledge, let’s observe the distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="http://localhost:7158/#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(civil_cases, <span class="fu">aes</span>(<span class="at">x =</span> judgment)) <span class="sc">+</span></span>
<span id="cb18-2"><a href="http://localhost:7158/#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb18-3"><a href="http://localhost:7158/#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribution of Judgment Types"</span>) <span class="sc">+</span></span>
<span id="cb18-4"><a href="http://localhost:7158/#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Judgment Type"</span>) <span class="sc">+</span></span>
<span id="cb18-5"><a href="http://localhost:7158/#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./Steve O’Neill_ DACSS 695M HW3_files/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It seems more often, the courts find in favor of the defendant. Remember that many civil cases settle, are withdrawn, or go into arbitration. So the 4th category’s domination is not necessarily a huge issue, and may even be useful to predict. For example, if you are the defense, a prediction of ‘not applicable’ may be favorable to a straight-out prediction of a judgment for the plaintiff.</p>
</section>
<section id="prediction-ideas-1" class="level2">
<h2 class="anchored" data-anchor-id="prediction-ideas-1">Prediction Ideas<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:7158/#prediction-ideas-1" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>As a classification problem, I can predict outcomes of these kinds</p>
<ul>
<li><p>Appeal (binary outcome)</p></li>
<li><p>Settlement (binary outcome)</p></li>
<li><p>Resolution through arbitration (binary outcome)</p></li>
<li><p>Final Judgment (Plaintiff, Defendant, Both, Neither)</p></li>
</ul>
<p>As feature engineering steps, I can perhaps add details like political ‘redness’ or ‘blueness’ based on ZIP. Or other types of information I can glean publicly.</p>
<p>These predictions could be useful to lawyers who want to do strategy planning. If they found that their chance for a favorable judgment was low, perhaps they could focus on settlement negotiations, or vice versa.</p>
<p>The ethical ramifications almost speak for themselves, but I would get into that more if I chose this project - I am open to feedback.</p>
<section id="feature-engineering-judges" class="level3">
<h3 class="anchored" data-anchor-id="feature-engineering-judges">Feature Engineering: Judges<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:7158/#feature-engineering-judges" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>On its page describing the FJC dataset, the WRDS documentation addresses a natural question:</p>
<p><em>“The original manuals indicate that filing and terminating judges, magistrates, or panel members should be identified in the data. Why are these variables missing?”</em></p>
<p>And gives the answer:</p>
<p><em>The Federal Judicial Conference established, in March 1995, a policy against releasing all judge identifying information in statistical databases provided by the Administrative Office (AOUSC). As all FJC litigation datasets are sourced from AOUSC data, any identifying judge information has been omitted over the entirety of the data.”</em></p>
<p>This is interesting, because as a pre-processing step, I may be able to find out which specific judge presides over a case, and implement feature engineering steps based on their background, like:</p>
<ul>
<li>The judge’s past history of judgments</li>
<li>What law school they went to</li>
<li>The judge’s gender, religion</li>
</ul>
<p>This data seems to be provided by the aforementioned FreeLaw project:</p>
<p><a href="https://www.courtlistener.com/help/api/bulk-data/">https://www.courtlistener.com/help/api/bulk-data/</a></p>
<p>If you want, zoom in on that DB schema diagram, especially <code>people_db_person</code>. I’ve confirmed that some of the data is there, although much is missing.</p>
</section>
<section id="approach" class="level3">
<h3 class="anchored" data-anchor-id="approach">Approach<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:7158/#approach" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>I have access to the full tables in Wharton’s SAS suite, so I will sample 200k rows randomly and build my training, validation, and test sets from there.</p>
</section>
</section>
</section>
<section id="post-script-joining-together" class="level1">
<h1>Post-script: Joining together?</h1>
<p>Early on, I was ambitiously thinking of how I could join the corporate data breach data with the lawsuits data. I figured that a data breach is naturally followed by a lawsuit, but it’s not so simple.</p>
<p>To do the join, I used the company’s CIK:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="http://localhost:7158/#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#company_fkey is company's CIK #</span></span>
<span id="cb19-2"><a href="http://localhost:7158/#cb19-2" aria-hidden="true" tabindex="-1"></a>cyber_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"EQUIFAX INC"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="true" pagedtable-page="0" class="pagedtable-wrapper">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_fkey"],"name":[2],"type":["chr"],"align":["left"]},{"label":["best_edgar_ticker"],"name":[3],"type":["chr"],"align":["left"]},{"label":["breach_cost"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["breach_cost_usd"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["breach_disclosure_date"],"name":[6],"type":["dttm"],"align":["right"]},{"label":["breach_start_date"],"name":[7],"type":["dttm"],"align":["right"]},{"label":["breach_end_date"],"name":[8],"type":["dttm"],"align":["right"]},{"label":["breach_information_type"],"name":[9],"type":["chr"],"align":["left"]},{"label":["cybersecurity_breach_key"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["naics_code_descrip"],"name":[11],"type":["chr"],"align":["left"]},{"label":["matchfy_balsh_assets"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["matchfy_balsh_book_val"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["matchfy_date_ttm"],"name":[14],"type":["dttm"],"align":["right"]},{"label":["matchfy_incmst_netinc_ttm"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["matchfy_incmst_rev_ttm"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["matchfy_price_close"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["matchfy_price_date"],"name":[18],"type":["dttm"],"align":["right"]},{"label":["matchfy_tso"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["matchfy_tso_markcap"],"name":[20],"type":["dbl"],"align":["right"]},{"label":["type_of_attack_list"],"name":[21],"type":["chr"],"align":["left"]},{"label":["number_of_records_lost"],"name":[22],"type":["dbl"],"align":["right"]},{"label":["information_accessed_list"],"name":[23],"type":["chr"],"align":["left"]},{"label":["bus_zip"],"name":[24],"type":["chr"],"align":["left"]},{"label":["breach_interval"],"name":[25],"type":["Interval"],"align":["right"]}],"data":[{"1":"EQUIFAX INC","2":"0000033185","3":"EFX","4":"1703400000","5":"1703400000","6":"2017-09-07","7":"2017-05-15","8":"2017-07-31","9":"Financial","10":"429","11":"Credit Bureaus","12":"7233400000","13":"-2351600000","14":"2017-12-31","15":"587300000","16":"3362200000","17":"119.54","18":"2018-01-02","19":"120079376","20":"14354288640","21":"|Unauthorized Access|","22":"148779000","23":"|Address|Credit Card|Name|Other|SSN|","24":"30302","25":"2017-05-15 UTC--2017-07-31 UTC"},{"1":"EQUIFAX INC","2":"0000033185","3":"EFX","4":"NA","5":"NA","6":"2017-05-23","7":"2016-01-04","8":"2017-03-29","9":"Personal","10":"444","11":"Credit Bureaus","12":"7233400000","13":"-2351600000","14":"2017-12-31","15":"587300000","16":"3362200000","17":"119.54","18":"2018-01-02","19":"120079376","20":"14354288640","21":"|Not Disclosed|","22":"NA","23":"|Address|Name|Other|SSN|","24":"30302","25":"2016-01-04 UTC--2017-03-29 UTC"},{"1":"EQUIFAX INC","2":"0000033185","3":"EFX","4":"NA","5":"NA","6":"2014-03-05","7":"2013-04-30","8":"2014-01-31","9":"Personal","10":"695","11":"Credit Bureaus","12":"4661000000","13":"-1455800000","14":"2014-12-31","15":"367400000","16":"2436400000","17":"81.32","18":"2015-01-02","19":"120587000","20":"9806135296","21":"|Not Disclosed|","22":"NA","23":"|Other|","24":"30302","25":"2013-04-30 UTC--2014-01-31 UTC"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
<div class="pagedtable pagedtable-not-empty" style="opacity: 1;"><table style="visibility: hidden; position: absolute; white-space: nowrap; height: auto; width: auto;"><tr><td>ABCDEFGHIJ0123456789</td></tr></table><table cellspacing="0" class="table table-condensed"><thead><tr><th align="left" style="text-align: left; max-width: 121px; min-width: 121px;"><div class="pagedtable-header-name">name</div><div class="pagedtable-header-type">&lt;chr&gt;</div></th><th align="left" style="text-align: left; max-width: 132px; min-width: 132px;"><div class="pagedtable-header-name">company_fkey</div><div class="pagedtable-header-type">&lt;chr&gt;</div></th><th align="left" style="text-align: left; max-width: 187px; min-width: 187px;"><div class="pagedtable-header-name">best_edgar_ticker</div><div class="pagedtable-header-type">&lt;chr&gt;</div></th><th align="right" style="text-align: right; max-width: 121px; min-width: 121px;"><div class="pagedtable-header-name">breach_cost</div><div class="pagedtable-header-type">&lt;dbl&gt;</div></th><th style="cursor: pointer;vertical-align: middle;min-width: 5px;width: 5px;"><div style="border-top: 5px solid transparent;border-bottom: 5px solid transparent;border-left: 5px solid;"></div></th></tr></thead><tbody><tr class="odd"><td align="left" style="text-align: left; max-width: 121px; min-width: 121px;">EQUIFAX INC</td><td align="left" style="text-align: left; max-width: 132px; min-width: 132px;">0000033185</td><td align="left" style="text-align: left; max-width: 187px; min-width: 187px;">EFX</td><td align="right" style="text-align: right; max-width: 121px; min-width: 121px;">1703400000</td><td></td></tr><tr class="even"><td align="left" style="text-align: left; max-width: 121px; min-width: 121px;">EQUIFAX INC</td><td align="left" style="text-align: left; max-width: 132px; min-width: 132px;">0000033185</td><td align="left" style="text-align: left; max-width: 187px; min-width: 187px;">EFX</td><td class="pagedtable-na-cell" align="right" style="text-align: right; max-width: 121px; min-width: 121px;">NA</td><td></td></tr><tr class="odd"><td align="left" style="text-align: left; max-width: 121px; min-width: 121px;">EQUIFAX INC</td><td align="left" style="text-align: left; max-width: 132px; min-width: 132px;">0000033185</td><td align="left" style="text-align: left; max-width: 187px; min-width: 187px;">EFX</td><td class="pagedtable-na-cell" align="right" style="text-align: right; max-width: 121px; min-width: 121px;">NA</td><td></td></tr></tbody></table><div class="pagedtable-footer"><div class="pagedtable-info" title="3 rows | 1-4 of 25 columns">3 rows | 1-4 of 25 columns</div></div></div></div>
</div>
</div>
<p>Matching companies in the cyber breach dataset with the FJC dataset appeared simple based on the company’s CIK number. Above, 0000033185 needs to become 000000033185 to get looked up in FJC database.</p>
<p>Alas, the several joins required to get to an actual result bring down the number of matches quite a bit. And after that, what can you do anyways? Compare number of lawsuits? One class-action lawsuit with 5000 people is much different than another random lawsuit. And the subject matter of a lawsuit is buried in a PDF - often scanned.</p>
<p>At this point, I am comfortable with picking one of the two options above and not trying to connect them. Methods to quantify the cost of a data breach to a firm, especially in legal costs, seem to be much different than what I have the tools for currently. An IBM review of the “Cost of a data breach: 2022” uses Activity-Based Costing, a meticulous and manual method that seems to come from accounting. With respect to the data breaches dataset, I am better off either using the company’s self-reported cost (<code>breach_cost</code>) or sticking with Project Idea # 2 alone.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<div class="modal__dialog micromodal-slide" id="quarto-log-error-modal" aria-hidden="true">
  <div class="modal__overlay" tabindex="2" data-micromodal-close="">
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="quarto-log-error-modal-title">
      <header class="modal__header">
        <h2 class="modal__title" id="quarto-log-error-modal-title">
          <i class="bi bi-exclamation-circle"></i>Error
        </h2>
        <button class="modal__close" aria-label="Close modal" data-micromodal-close=""></button>
      </header>
      <div class="modal__content" id="quarto-log-error-modal-content">
        <pre tabindex="1" id="quarto-log-error-display"></pre>
      </div>
      <footer class="modal__footer">
      </footer>
    </div>
  </div>
</div>
<style type="text/css">
#quarto-log-error-modal .modal__overlay {
  z-index: 5000;
}
#quarto-log-error-modal-content {
  border: 1px solid #dee2e6;
  overflow-y: auto;
}
#quarto-log-error-display {
  min-height: 100px;
  padding: 8px;
  margin-bottom: 0;
  font-family: monospace;
}
#quarto-log-error-display:focus {
  outline: none;
}
.modal__dialog {
  font-size: 16px;
}
.modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.4);
  display: flex;
  justify-content: center;
  align-items: center;
}
.modal__container {
  position: fixed;
  top: 80px;
  background-color: #fff;
  padding: 15px;
  padding-top: 10px;
  min-width: 500px;
  max-width: 90%;
  max-height: 90vh;
  border-radius: 4px;
  overflow-y: auto;
  box-sizing: border-box;
}
.modal__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.modal__title {
  margin-top: 0;
  margin-bottom: 0;
  font-weight: 600;
  border-bottom: none;
  padding-bottom: 10px;
  font-size: 20px;
  color: rgb(191,71,65);
  line-height: 1.25;
  box-sizing: border-box;
}
.modal__title .bi {
  margin-right: 7px;
}
.modal__close {
  background: transparent;
  border: 0;
  margin-bottom: 10px;
}
.modal__header .modal__close:before { content: "\2715"; }
.modal__content {
  margin-top: 0;
  margin-bottom: 0;
}
@keyframes mmfadeIn {
    from { opacity: 0; }
      to { opacity: 1; }
}
@keyframes mmfadeOut {
    from { opacity: 1; }
      to { opacity: 0; }
}
@keyframes mmslideIn {
  from { transform: translateY(15%); }
    to { transform: translateY(0); }
}
@keyframes mmslideOut {
    from { transform: translateY(0); }
    to { transform: translateY(-10%); }
}
.micromodal-slide {
  display: none;
}
.micromodal-slide.is-open {
  display: block;
}
.micromodal-slide[aria-hidden="false"] .modal__overlay {
  animation: mmfadeIn .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}
.micromodal-slide[aria-hidden="false"] .modal__container {
  animation: mmslideIn .3s cubic-bezier(0, 0, .2, 1);
}
.micromodal-slide[aria-hidden="true"] .modal__overlay {
  animation: mmfadeOut .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}
.micromodal-slide[aria-hidden="true"] .modal__container {
  animation: mmslideOut .3s cubic-bezier(0, 0, .2, 1);
}
.micromodal-slide .modal__container,
.micromodal-slide .modal__overlay {
  will-change: transform;
} 
</style>
<script type="text/javascript">
  window.backupDefine = window.define; window.define = undefined;
  /*  ansi_up.js
   *  author : Dru Nelson
   *  license : MIT
   *  http://github.com/drudru/ansi_up
   */
   (function (root, factory) {
      if (typeof define === 'function' && define.amd) {
          // AMD. Register as an anonymous module.
          define(['exports'], factory);
      } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
          // CommonJS
          factory(exports);
      } else {
          // Browser globals
          var exp = {};
          factory(exp);
          root.AnsiUp = exp.default;
      }
  }(this, function (exports) {
  "use strict";
  var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {
      if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
      return cooked;
  };
  var PacketKind;
  (function (PacketKind) {
      PacketKind[PacketKind["EOS"] = 0] = "EOS";
      PacketKind[PacketKind["Text"] = 1] = "Text";
      PacketKind[PacketKind["Incomplete"] = 2] = "Incomplete";
      PacketKind[PacketKind["ESC"] = 3] = "ESC";
      PacketKind[PacketKind["Unknown"] = 4] = "Unknown";
      PacketKind[PacketKind["SGR"] = 5] = "SGR";
      PacketKind[PacketKind["OSCURL"] = 6] = "OSCURL";
  })(PacketKind || (PacketKind = {}));
  var AnsiUp = (function () {
      function AnsiUp() {
          this.VERSION = "5.1.0";
          this.setup_palettes();
          this._use_classes = false;
          this.bold = false;
          this.italic = false;
          this.underline = false;
          this.fg = this.bg = null;
          this._buffer = '';
          this._url_whitelist = { 'http': 1, 'https': 1 };
      }
      Object.defineProperty(AnsiUp.prototype, "use_classes", {
          get: function () {
              return this._use_classes;
          },
          set: function (arg) {
              this._use_classes = arg;
          },
          enumerable: false,
          configurable: true
      });
      Object.defineProperty(AnsiUp.prototype, "url_whitelist", {
          get: function () {
              return this._url_whitelist;
          },
          set: function (arg) {
              this._url_whitelist = arg;
          },
          enumerable: false,
          configurable: true
      });
      AnsiUp.prototype.setup_palettes = function () {
          var _this = this;
          this.ansi_colors =
              [
                  [
                      { rgb: [0, 0, 0], class_name: "ansi-black" },
                      { rgb: [187, 0, 0], class_name: "ansi-red" },
                      { rgb: [0, 187, 0], class_name: "ansi-green" },
                      { rgb: [187, 187, 0], class_name: "ansi-yellow" },
                      { rgb: [0, 0, 187], class_name: "ansi-blue" },
                      { rgb: [187, 0, 187], class_name: "ansi-magenta" },
                      { rgb: [0, 187, 187], class_name: "ansi-cyan" },
                      { rgb: [255, 255, 255], class_name: "ansi-white" }
                  ],
                  [
                      { rgb: [85, 85, 85], class_name: "ansi-bright-black" },
                      { rgb: [255, 85, 85], class_name: "ansi-bright-red" },
                      { rgb: [0, 255, 0], class_name: "ansi-bright-green" },
                      { rgb: [255, 255, 85], class_name: "ansi-bright-yellow" },
                      { rgb: [85, 85, 255], class_name: "ansi-bright-blue" },
                      { rgb: [255, 85, 255], class_name: "ansi-bright-magenta" },
                      { rgb: [85, 255, 255], class_name: "ansi-bright-cyan" },
                      { rgb: [255, 255, 255], class_name: "ansi-bright-white" }
                  ]
              ];
          this.palette_256 = [];
          this.ansi_colors.forEach(function (palette) {
              palette.forEach(function (rec) {
                  _this.palette_256.push(rec);
              });
          });
          var levels = [0, 95, 135, 175, 215, 255];
          for (var r = 0; r < 6; ++r) {
              for (var g = 0; g < 6; ++g) {
                  for (var b = 0; b < 6; ++b) {
                      var col = { rgb: [levels[r], levels[g], levels[b]], class_name: 'truecolor' };
                      this.palette_256.push(col);
                  }
              }
          }
          var grey_level = 8;
          for (var i = 0; i < 24; ++i, grey_level += 10) {
              var gry = { rgb: [grey_level, grey_level, grey_level], class_name: 'truecolor' };
              this.palette_256.push(gry);
          }
      };
      AnsiUp.prototype.escape_txt_for_html = function (txt) {
          return txt.replace(/[&<>"']/gm, function (str) {
              if (str === "&")
                  return "&amp;";
              if (str === "<")
                  return "&lt;";
              if (str === ">")
                  return "&gt;";
              if (str === "\"")
                  return "&quot;";
              if (str === "'")
                  return "&#x27;";
          });
      };
      AnsiUp.prototype.append_buffer = function (txt) {
          var str = this._buffer + txt;
          this._buffer = str;
      };
      AnsiUp.prototype.get_next_packet = function () {
          var pkt = {
              kind: PacketKind.EOS,
              text: '',
              url: ''
          };
          var len = this._buffer.length;
          if (len == 0)
              return pkt;
          var pos = this._buffer.indexOf("\x1B");
          if (pos == -1) {
              pkt.kind = PacketKind.Text;
              pkt.text = this._buffer;
              this._buffer = '';
              return pkt;
          }
          if (pos > 0) {
              pkt.kind = PacketKind.Text;
              pkt.text = this._buffer.slice(0, pos);
              this._buffer = this._buffer.slice(pos);
              return pkt;
          }
          if (pos == 0) {
              if (len == 1) {
                  pkt.kind = PacketKind.Incomplete;
                  return pkt;
              }
              var next_char = this._buffer.charAt(1);
              if ((next_char != '[') && (next_char != ']')) {
                  pkt.kind = PacketKind.ESC;
                  pkt.text = this._buffer.slice(0, 1);
                  this._buffer = this._buffer.slice(1);
                  return pkt;
              }
              if (next_char == '[') {
                  if (!this._csi_regex) {
                      this._csi_regex = rgx(__makeTemplateObject(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \u001B[                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \u001B[                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-\u001F:])              # anything illegal\n                        )\n                    "], ["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]));
                  }
                  var match = this._buffer.match(this._csi_regex);
                  if (match === null) {
                      pkt.kind = PacketKind.Incomplete;
                      return pkt;
                  }
                  if (match[4]) {
                      pkt.kind = PacketKind.ESC;
                      pkt.text = this._buffer.slice(0, 1);
                      this._buffer = this._buffer.slice(1);
                      return pkt;
                  }
                  if ((match[1] != '') || (match[3] != 'm'))
                      pkt.kind = PacketKind.Unknown;
                  else
                      pkt.kind = PacketKind.SGR;
                  pkt.text = match[2];
                  var rpos = match[0].length;
                  this._buffer = this._buffer.slice(rpos);
                  return pkt;
              }
              if (next_char == ']') {
                  if (len < 4) {
                      pkt.kind = PacketKind.Incomplete;
                      return pkt;
                  }
                  if ((this._buffer.charAt(2) != '8')
                      || (this._buffer.charAt(3) != ';')) {
                      pkt.kind = PacketKind.ESC;
                      pkt.text = this._buffer.slice(0, 1);
                      this._buffer = this._buffer.slice(1);
                      return pkt;
                  }
                  if (!this._osc_st) {
                      this._osc_st = rgxG(__makeTemplateObject(["\n                        (?:                         # legal sequence\n                          (\u001B\\)                    # ESC                           |                           # alternate\n                          (\u0007)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-\u0006]                 # anything illegal\n                          |                           # alternate\n                          [\b-\u001A]                 # anything illegal\n                          |                           # alternate\n                          [\u001C-\u001F]                 # anything illegal\n                        )\n                    "], ["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]));
                  }
                  this._osc_st.lastIndex = 0;
                  {
                      var match_1 = this._osc_st.exec(this._buffer);
                      if (match_1 === null) {
                          pkt.kind = PacketKind.Incomplete;
                          return pkt;
                      }
                      if (match_1[3]) {
                          pkt.kind = PacketKind.ESC;
                          pkt.text = this._buffer.slice(0, 1);
                          this._buffer = this._buffer.slice(1);
                          return pkt;
                      }
                  }
                  {
                      var match_2 = this._osc_st.exec(this._buffer);
                      if (match_2 === null) {
                          pkt.kind = PacketKind.Incomplete;
                          return pkt;
                      }
                      if (match_2[3]) {
                          pkt.kind = PacketKind.ESC;
                          pkt.text = this._buffer.slice(0, 1);
                          this._buffer = this._buffer.slice(1);
                          return pkt;
                      }
                  }
                  if (!this._osc_regex) {
                      this._osc_regex = rgx(__makeTemplateObject(["\n                        ^                           # beginning of line\n                                                    #\n                        \u001B]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\u001B\\)                  # ESC                           |                           # alternate\n                          (?:\u0007)                    # BEL (what xterm did)\n                        )\n                        ([ -~]+)              # TEXT capture\n                        \u001B]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\u001B\\)                  # ESC                           |                           # alternate\n                          (?:\u0007)                    # BEL (what xterm did)\n                        )\n                    "], ["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x20-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]));
                  }
                  var match = this._buffer.match(this._osc_regex);
                  if (match === null) {
                      pkt.kind = PacketKind.ESC;
                      pkt.text = this._buffer.slice(0, 1);
                      this._buffer = this._buffer.slice(1);
                      return pkt;
                  }
                  pkt.kind = PacketKind.OSCURL;
                  pkt.url = match[1];
                  pkt.text = match[2];
                  var rpos = match[0].length;
                  this._buffer = this._buffer.slice(rpos);
                  return pkt;
              }
          }
      };
      AnsiUp.prototype.ansi_to_html = function (txt) {
          this.append_buffer(txt);
          var blocks = [];
          while (true) {
              var packet = this.get_next_packet();
              if ((packet.kind == PacketKind.EOS)
                  || (packet.kind == PacketKind.Incomplete))
                  break;
              if ((packet.kind == PacketKind.ESC)
                  || (packet.kind == PacketKind.Unknown))
                  continue;
              if (packet.kind == PacketKind.Text)
                  blocks.push(this.transform_to_html(this.with_state(packet)));
              else if (packet.kind == PacketKind.SGR)
                  this.process_ansi(packet);
              else if (packet.kind == PacketKind.OSCURL)
                  blocks.push(this.process_hyperlink(packet));
          }
          return blocks.join("");
      };
      AnsiUp.prototype.with_state = function (pkt) {
          return { bold: this.bold, italic: this.italic, underline: this.underline, fg: this.fg, bg: this.bg, text: pkt.text };
      };
      AnsiUp.prototype.process_ansi = function (pkt) {
          var sgr_cmds = pkt.text.split(';');
          while (sgr_cmds.length > 0) {
              var sgr_cmd_str = sgr_cmds.shift();
              var num = parseInt(sgr_cmd_str, 10);
              if (isNaN(num) || num === 0) {
                  this.fg = this.bg = null;
                  this.bold = false;
                  this.italic = false;
                  this.underline = false;
              }
              else if (num === 1) {
                  this.bold = true;
              }
              else if (num === 3) {
                  this.italic = true;
              }
              else if (num === 4) {
                  this.underline = true;
              }
              else if (num === 22) {
                  this.bold = false;
              }
              else if (num === 23) {
                  this.italic = false;
              }
              else if (num === 24) {
                  this.underline = false;
              }
              else if (num === 39) {
                  this.fg = null;
              }
              else if (num === 49) {
                  this.bg = null;
              }
              else if ((num >= 30) && (num < 38)) {
                  this.fg = this.ansi_colors[0][(num - 30)];
              }
              else if ((num >= 40) && (num < 48)) {
                  this.bg = this.ansi_colors[0][(num - 40)];
              }
              else if ((num >= 90) && (num < 98)) {
                  this.fg = this.ansi_colors[1][(num - 90)];
              }
              else if ((num >= 100) && (num < 108)) {
                  this.bg = this.ansi_colors[1][(num - 100)];
              }
              else if (num === 38 || num === 48) {
                  if (sgr_cmds.length > 0) {
                      var is_foreground = (num === 38);
                      var mode_cmd = sgr_cmds.shift();
                      if (mode_cmd === '5' && sgr_cmds.length > 0) {
                          var palette_index = parseInt(sgr_cmds.shift(), 10);
                          if (palette_index >= 0 && palette_index <= 255) {
                              if (is_foreground)
                                  this.fg = this.palette_256[palette_index];
                              else
                                  this.bg = this.palette_256[palette_index];
                          }
                      }
                      if (mode_cmd === '2' && sgr_cmds.length > 2) {
                          var r = parseInt(sgr_cmds.shift(), 10);
                          var g = parseInt(sgr_cmds.shift(), 10);
                          var b = parseInt(sgr_cmds.shift(), 10);
                          if ((r >= 0 && r <= 255) && (g >= 0 && g <= 255) && (b >= 0 && b <= 255)) {
                              var c = { rgb: [r, g, b], class_name: 'truecolor' };
                              if (is_foreground)
                                  this.fg = c;
                              else
                                  this.bg = c;
                          }
                      }
                  }
              }
          }
      };
      AnsiUp.prototype.transform_to_html = function (fragment) {
          var txt = fragment.text;
          if (txt.length === 0)
              return txt;
          txt = this.escape_txt_for_html(txt);
          if (!fragment.bold && !fragment.italic && !fragment.underline && fragment.fg === null && fragment.bg === null)
              return txt;
          var styles = [];
          var classes = [];
          var fg = fragment.fg;
          var bg = fragment.bg;
          if (fragment.bold)
              styles.push('font-weight:bold');
          if (fragment.italic)
              styles.push('font-style:italic');
          if (fragment.underline)
              styles.push('text-decoration:underline');
          if (!this._use_classes) {
              if (fg)
                  styles.push("color:rgb(" + fg.rgb.join(',') + ")");
              if (bg)
                  styles.push("background-color:rgb(" + bg.rgb + ")");
          }
          else {
              if (fg) {
                  if (fg.class_name !== 'truecolor') {
                      classes.push(fg.class_name + "-fg");
                  }
                  else {
                      styles.push("color:rgb(" + fg.rgb.join(',') + ")");
                  }
              }
              if (bg) {
                  if (bg.class_name !== 'truecolor') {
                      classes.push(bg.class_name + "-bg");
                  }
                  else {
                      styles.push("background-color:rgb(" + bg.rgb.join(',') + ")");
                  }
              }
          }
          var class_string = '';
          var style_string = '';
          if (classes.length)
              class_string = " class=\"" + classes.join(' ') + "\"";
          if (styles.length)
              style_string = " style=\"" + styles.join(';') + "\"";
          return "<span" + style_string + class_string + ">" + txt + "</span>";
      };
      ;
      AnsiUp.prototype.process_hyperlink = function (pkt) {
          var parts = pkt.url.split(':');
          if (parts.length < 1)
              return '';
          if (!this._url_whitelist[parts[0]])
              return '';
          var result = "<a href=\"" + this.escape_txt_for_html(pkt.url) + "\">" + this.escape_txt_for_html(pkt.text) + "</a>";
          return result;
      };
      return AnsiUp;
  }());
  function rgx(tmplObj) {
      var subst = [];
      for (var _i = 1; _i < arguments.length; _i++) {
          subst[_i - 1] = arguments[_i];
      }
      var regexText = tmplObj.raw[0];
      var wsrgx = /^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm;
      var txt2 = regexText.replace(wsrgx, '');
      return new RegExp(txt2);
  }
  function rgxG(tmplObj) {
      var subst = [];
      for (var _i = 1; _i < arguments.length; _i++) {
          subst[_i - 1] = arguments[_i];
      }
      var regexText = tmplObj.raw[0];
      var wsrgx = /^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm;
      var txt2 = regexText.replace(wsrgx, '');
      return new RegExp(txt2, 'g');
  }
      Object.defineProperty(exports, "__esModule", { value: true });
      exports.default = AnsiUp;
  }));
  // micromodal: https://github.com/Ghosh/micromodal
  !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).MicroModal=t()}(this,(function(){"use strict";function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var n,i,a,r,s,l=(n=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],i=function(){function o(e){var n=e.targetModal,i=e.triggers,a=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,l=e.onClose,c=void 0===l?function(){}:l,d=e.openTrigger,u=void 0===d?"data-micromodal-trigger":d,f=e.closeTrigger,h=void 0===f?"data-micromodal-close":f,v=e.openClass,g=void 0===v?"is-open":v,m=e.disableScroll,b=void 0!==m&&m,y=e.disableFocus,p=void 0!==y&&y,w=e.awaitCloseAnimation,E=void 0!==w&&w,k=e.awaitOpenAnimation,M=void 0!==k&&k,A=e.debugMode,C=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:b,openTrigger:u,closeTrigger:h,openClass:g,onShow:s,onClose:c,awaitCloseAnimation:E,awaitOpenAnimation:M,disableFocus:p},a.length>0&&this.registerTriggers.apply(this,t(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var i,a,r;return i=o,(a=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];o.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var o=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",o,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(o),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(n);return Array.apply(void 0,t(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var o=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var o=t.indexOf(document.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&o===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&e(i.prototype,a),r&&e(i,r),o}(),a=null,r=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},s=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var o in t)r(o);return!0},{init:function(e){var o=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=t(document.querySelectorAll("[".concat(o.openTrigger,"]"))),r=function(e,t){var o=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===o[n]&&(o[n]=[]),o[n].push(e)})),o}(n,o.openTrigger);if(!0!==o.debugMode||!1!==s(n,r))for(var l in r){var c=r[l];o.targetModal=l,o.triggers=t(c),a=new i(o)}},show:function(e,t){var o=t||{};o.targetModal=e,!0===o.debugMode&&!1===r(e)||(a&&a.removeEventListeners(),(a=new i(o)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});return"undefined"!=typeof window&&(window.MicroModal=l),l}));  
  window.define = window.backupDefine; window.backupDefine = undefined;
  </script>
<script type="text/javascript">
  (function () {
    // forward keydown events so shortcuts can work in vscode, see:
    // https://github.com/microsoft/vscode/issues/65452#issuecomment-586485815
    if (window.parent.postMessage) {
      window.document.addEventListener('keydown', e => {
        const event = {
          type: "keydown",
          data: {
            altKey: e.altKey,
            code: e.code,
            ctrlKey: e.ctrlKey,
            isComposing: e.isComposing,
            key: e.key,
            location: e.location,
            metaKey: e.metaKey,
            repeat: e.repeat,
            shiftKey: e.shiftKey
          }
        };
        window.parent.postMessage(event, '*');
      });
    }
    // listen for execCommand messages
    window.addEventListener("message", function (event) {
      if (event.data.type === "devhost-exec-command") {
        window.document.execCommand(event.data.data);
      } 
    }, true);
    const logEntries = new Array(1000);
    logEntries.offset = 0;
    function recordLogEntry(entry) {
      logEntries[logEntries.offset++] = entry;
      logEntries.offset %= logEntries.length;
    }
    function getLogEntry(i) { // backwards, 0 is most recent
        return logEntries[(logEntries.offset - 1 - i + logEntries.length) % logEntries.length];
    }
    const protocol = window.location.protocol === "https:" ? "wss:" : "ws:";
    let path = window.location.pathname;
    if (!/\/$/.test(path)) path += "/";
    const devServerSocket = new WebSocket(protocol + "//" + window.location.host + path);
    let reloadPage = true;
    addEventListener("beforeunload", () => {
      // don't reload page in case of navigation events
      reloadPage = false;
    })
    devServerSocket.onopen = () => {
      console.log('Socket connection open. Listening for events.');
      // if the socket closes for any reason (e.g. this occurs in electron apps
      // when the computer suspends) then reload to reestablish the connection 
      devServerSocket.onclose = () => {
        if (reloadPage) {
          console.log('Socket connection closed. Reloading.');
          window.location.reload(true);
        }
      }
    };
    // append for errors that occur within the error window
    let lastError = 0;
    const kErrorWindow = 2500;
    function showError(msg) {
      const ansiUp = new AnsiUp
      const html = ansiUp.ansi_to_html(msg.trim());
      const display = document.getElementById("quarto-log-error-display");
      if (display.innerHTML && ((Date.now() - lastError) < kErrorWindow)) {
        display.innerHTML = display.innerHTML + "<br/>" +  html;
      } else {
        display.innerHTML = html
      }
      lastError = Date.now()
      MicroModal.show('quarto-log-error-modal', {
        awaitCloseAnimation: true,
        onClose: () => { display.innerHTML = ""; }
      });
      // post message to parent indicating we had an error
      if (window.parent.postMessage) {
        window.parent.postMessage({
          type: "error",
          msg: msg,
        }, "*");
      }
    }
    // see if there is already an error to show
    const renderError = document.getElementById("quarto-render-error");
    if (renderError) {
      showError(renderError.innerHTML.trim());
    }
    const normalizeTarget = (target) => {
      return target.replace(/\/index\.html/, "/")
    };
    devServerSocket.onmessage = (msg) => {
      if (msg.data.startsWith('reload')) {
        let target = normalizeTarget(msg.data.replace(/^reload/, ""));
        // prepend proxy path to target if we have one
        if (target) {
          const pathPrefix = 
            window.location.pathname.match(/^.*?\/p\/\w+\//) ||
            window.location.pathname.match(/^.*?\/user\/[\w\d]+\/proxy\/\d+\//);
          if (pathPrefix) {
            target = pathPrefix + target.slice(1);
          }
        }
        if (target && (target !== normalizeTarget(window.location.pathname))) {
          window.location.replace(target);
        } else {
          window.location.reload(true);
        }
      } else if (msg.data.startsWith('log:')) {
        const ansiUp = new AnsiUp
        const log = JSON.parse(msg.data.substr(4));
        recordLogEntry(log);
        if (log.levelName === "ERROR") {
          showError(log.msgFormatted)
        } else {
          // see if there is a knitr error to report
          const kExecutionHalted = "Execution halted";
          if (log.msg.indexOf(kExecutionHalted) !== -1) {
            // scan backwards for beginning of error
            const errorEntries = [getLogEntry(0).msgFormatted];
            for (let i=1; i<logEntries.length; i++) {
              const logEntry = getLogEntry(i);
              if (logEntry) {
                errorEntries.unshift(logEntry.msgFormatted);
                if (logEntry.msg.indexOf("Quitting from lines") !== -1) {
                  showError(errorEntries.join(""));
                  break;
                } else if (logEntry.msg.indexOf(kExecutionHalted) !== -1) {
                  break;
                }
              } else {
                break;
              }
            }
          }
        }
      }
    };
  })();
</script>

<script type="text/javascript">
  if (window.parent.postMessage) {
    // wait for message providing confirmation we are in a devhost
    window.addEventListener("message", function (event) {
      if (event.data.type === "devhost-init") {
        window.quartoDevhost = {
          openInputFile: function (line, column, highlight) {
            window.parent.postMessage({
              type: "openfile",
              file: "C:\Data\dacss-695m-personal\steve_hw3.qmd",
              line: line,
              column: column,
              highlight: highlight
            }, event.origin);
          }
        };
      } else if (event.data.type === "goback") {
        window.history.back()
      } else if (event.data.type === "goforward") {
        window.history.forward()
      }
    }, true);
    // notify host of navigation (e.g. for 'pop out' command)
    window.parent.postMessage({
      type: "navigate",
      href: window.location.href,
      file: "C:\Data\dacss-695m-personal\steve_hw3.qmd"
    }, "*");
  }
</script>
</body></html>